# MongoDB Schema Documentation

This document provides detailed information about the MongoDB collections and their schema specifications used in the application.

## Collections Overview

The application uses two main collections:
1. `orders` - Stores order information
2. `product_configs` - Stores product configuration data

## Orders Collection

The `orders` collection stores information about customer orders.

### Schema Specification
```json
{
  "collection": "orders",
  "required_fields": [
    "productId",
    "orderNumber",
    "orderDate",
    "productName",
    "productCategory",
    "price",
    "quantity",
    "status"
  ],
  "fields": {
    "id": {
      "type": "string",
      "description": "Unique identifier for the order",
      "auto_generated": true
    },
    "productId": {
      "type": "string",
      "description": "ID of the product associated with the order",
      "required": true
    },
    "orderNumber": {
      "type": "string",
      "description": "Unique order number",
      "required": true
    },
    "orderDate": {
      "type": "date-time",
      "description": "Date and time when the order was placed",
      "required": true
    },
    "deliveryDate": {
      "type": "date-time",
      "description": "Expected delivery date and time",
      "required": false
    },
    "productName": {
      "type": "string",
      "description": "Name of the product",
      "required": true
    },
    "productCategory": {
      "type": "string",
      "description": "Category of the product",
      "required": true
    },
    "price": {
      "type": "number",
      "description": "Price of the product",
      "required": true,
      "minimum": 0
    },
    "quantity": {
      "type": "integer",
      "description": "Quantity ordered",
      "required": true,
      "minimum": 1
    },
    "status": {
      "type": "string",
      "description": "Current status of the order",
      "required": true,
      "allowed_values": [
        "PENDING",
        "PROCESSING",
        "SHIPPED",
        "DELIVERED",
        "CANCELLED"
      ]
    }
  }
}
```

## Product Configs Collection

The `product_configs` collection stores configuration settings for products.

### Schema Specification
```json
{
  "collection": "product_configs",
  "required_fields": [
    "productId",
    "configName",
    "configValue",
    "startDate",
    "enabled"
  ],
  "fields": {
    "id": {
      "type": "string",
      "description": "Unique identifier for the configuration",
      "auto_generated": true
    },
    "productId": {
      "type": "string",
      "description": "ID of the product this configuration belongs to",
      "required": true
    },
    "configName": {
      "type": "string",
      "description": "Name of the configuration",
      "required": true
    },
    "configValue": {
      "type": "string",
      "description": "Value of the configuration",
      "required": true
    },
    "startDate": {
      "type": "date-time",
      "description": "Date and time when the configuration becomes active",
      "required": true
    },
    "endDate": {
      "type": "date-time",
      "description": "Date and time when the configuration expires",
      "required": false
    },
    "enabled": {
      "type": "boolean",
      "description": "Whether the configuration is currently active",
      "required": true
    }
  }
}
```

## Validation Rules

### Orders Collection
- All fields except `id` and `deliveryDate` are required
- `price` must be a non-negative number
- `quantity` must be a positive integer (minimum 1)
- `status` must be one of the predefined values: PENDING, PROCESSING, SHIPPED, DELIVERED, CANCELLED
- `orderDate` and `deliveryDate` must be valid date-time values

### Product Configs Collection
- All fields except `id` and `endDate` are required
- `startDate` and `endDate` must be valid date-time values
- `enabled` must be a boolean value
- `configName` and `configValue` must be non-empty strings

## Usage Notes

1. The `id` field is automatically generated by MongoDB and should not be set manually
2. Date-time fields should be in ISO 8601 format
3. The `productId` field in both collections can be used to establish relationships between orders and product configurations
4. The `status` field in orders should be updated to reflect the current state of the order
5. Product configurations can be time-bound using the `startDate` and `endDate` fields 